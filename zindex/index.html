<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>z-index demo</title>
<link rel="stylesheet" href="jquery/jquery.mobile-1.4.5.min.css">
<script src="jquery/jquery.js"></script>
<script src="jquery/jquery.mobile-1.4.5.min.js"></script>
<style type="text/css">
<!--
.s0 {
  position:relative;top: 0px; left: 0px; z-index: 0;
}

.s1 {
  position:relative;top: 0px; left: -320px; z-index: 1;
}
.s2 {
  position:relative;top: 0px; left: -640px; z-index: 2;
}
-->
</style>
<script>
// 3つの要素があるので３個の配列とそれぞれ変更できるPNG用意します
var dataAray;

// 要素
var curArray;

function dispCurrentSettei(img) {
  for(var i=0;i < curArray.length ;i++) {
    var v = dataAray[i]['files'];
    var filenm = v[curArray[i]];
    var imgstr = 'img.s' + i;
    $(imgstr).attr( {'src': 'images/' + filenm } );
  }
}

$(function() {

  // 初期化
  $.ajax({
    type: 'GET',
    url: './data.json',
    dataType: 'json',
    success: function(data){
     dataAray = JSON.parse(JSON.stringify(data));
     var l = new Array(dataAray.length);
     curArray = new Array(l);

     for(var i=0;i < l.length ;i++) {
       curArray[i] = 0;
     }
     dispCurrentSettei();
    },
    error: function(XMLHttpRequest, textStatus, errorThrown) {
         alert(XMLHttpRequest.status);
         alert(textStatus);
         alert(errorThrown.message);
     },
    complete : function(data) {
     //  alert("finish"); // <--- debug用
     }
  });

  // ボタントルグ設定
  $("input.chgbtn").click(function () {
    var col = $(this).data('changeColValue');
    var row = $(this).data('changeRowValue');
    curArray[col-1]=row-1;
    dispCurrentSettei($(this));
  });

  // リセットボタン
  $("input.reset").click(function () {
    for(var i=0;i < curArray.length ;i++) {
      curArray[i] = 0;
    }
    dispCurrentSettei();
  });
});
</script>

</head>
<body>
<h1></h1>
<div data-role="page">
<div>
  <img src="images/1_1.png" class="s0" />
  <img src="images/2_1.png" class="s1" />
  <img src="images/3_1.png" class="s2" />
</div>  
<div class="buttons">
  <form>
  <input type="button" class="chgbtn" data-change-Col-Value="2" data-change-Row-Value="1" value="青">
  <input type="button" class="chgbtn" data-change-Col-Value="2" data-change-Row-Value="2" value="緑">
  <input type="button" class="chgbtn" data-change-Col-Value="2" data-change-Row-Value="3" value="水色">
  <input type="button" class="chgbtn" data-change-Col-Value="3" data-change-Row-Value="1" value="赤">
  <input type="button" class="chgbtn" data-change-Col-Value="3" data-change-Row-Value="2"value="緑">
  <input type="reset" class="reset" value="Reset">
  </form>
</div>
</div>
<hr>
<address></address>
<!-- hhmts start -->Last modified: Fri Jun  5 16:02:57 JST 2015 <!-- hhmts end -->
</body> </html>
